<div class="column is-one-fifth">
  <div class="card box">
    <!-- Shows image if available -->
    <% if product.image.present? %>
      <div class="card-image">
        <figure class="image is-2-5">
          <%= image_tag product.image.variant(resize_to_limit:[250,250]) %>
        </figure>
      </div>
    <%end%>
    <!-- product name and price -->
    <div class="card-content has-text-centered mt-2">
      <%= link_to product do %>
        <p class="title is-5"><%= product.name %></p>
        <p class="subtitle"><%= number_to_currency product.price%></p>
      <%end%>
    </div>
    <footer class="card-footer">
      <!--Add to cart buttons for cards -->
      <% if cart.include?(product) %>
        <%= button_to cart_path(product),
        method: :delete,
        class: "card-footer-item" do %>
          X Remove From Cart
        <% end %>
      <% else %>
        <%= form_with url: cart_index_path,
        method: :post,
        class: "card-footer-item" do %>
          <%= hidden_field_tag(:id, product.id) %>
          <%= label_tag :qty, "Quantity:" %>
          <%= number_field_tag :qty, type: 'number' %>
          <%= button_tag 'Add to Cart' %>
        <% end %>
      <% end %>
    </footer>
  </div>
</div>
